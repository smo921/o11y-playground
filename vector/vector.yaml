data_dir: /data_dir

sources:
  random_json:
    type: demo_logs
    format: json
    interval: ${RANDOM_JSON_MESSAGE_INTERVAL:-0.001}  # seconds between messages ; 1k / sec
    count: 1000000 # 1 Billion
#  files:
#    type: file
#    include:
#      - /log_files/*
#    read_from: beginning

sinks:
  local_loki:
    type: loki
    inputs:
    #  - files
      - random_json
    endpoint: http://loki:3100
    encoding:
      codec: json
    labels:
      source: vector
